<html>
<head>
	<title>Number clicker</title>
	<script type="text/javascript" src="js/lib/knockout-3.1.0.js"></script>
	<script type="text/javascript" src="js/src/utils.js"></script>

	<script type="text/javascript" src="js/src/models/GameModel.js"></script>

	<script type="text/javascript" src="js/src/models/BuyableModel.js"></script>
	<script type="text/javascript" src="js/src/models/BuildingModel.js"></script>
	<script type="text/javascript" src="js/src/models/ResearchModel.js"></script>
	<script type="text/javascript" src="js/src/models/ImproveResearchModel.js"></script>

	<script type="text/javascript" src="js/src/buyables.js"></script>
</head>
<body>
	<div id="myGame">
		Number: <span data-bind="text: compactNumber(number())"></span>#
		(+<span data-bind="text: compactNumber(numberRate())"></span>Hz)
		<ul data-bind="template: { name: 'buyedTemplate', foreach: buyed, as: 'buyed' }"></ul>
		<ul data-bind="template: { name: function(buyable){return buyable.template;}, foreach: availables, as: 'buyable' }">
		</ul>
	</div>

	<script type="text/html" id="buyedTemplate">
		<li><span data-bind="text: originalName"></span></li>
	</script>
	<script type="text/html" id="buildingTemplate">
		<li>
			<span data-bind="text: name"></span>
			x<span data-bind="text: count"></span>
			+<span data-bind="text: compactNumber(rate())"></span>Hz
			for <span data-bind="text: compactNumber(cost)"></span>#
			<button data-bind="enable: canBuy(), click: buy">Buy</button>
			<button data-bind="enable: canSell(), click: sell">Sell</button>
		</li>
	</script>
	<script type="text/html" id="researchTemplate">
		<li>
			<span data-bind="text: name"></span>
			for <span data-bind="text: compactNumber(cost)"></span>#
			<span data-bind="text: caption"></span>
			(<span data-bind="text: description"></span>)
			<button data-bind="enable: canBuy(), click: buy">Buy</button>
		</li>
	</script>
	
	<script type="text/javascript">
		var myGame = new GameModel();
		ko.applyBindings(myGame, elById('myGame'));
		myGame.tick_start();
	</script>
</body>
</html>